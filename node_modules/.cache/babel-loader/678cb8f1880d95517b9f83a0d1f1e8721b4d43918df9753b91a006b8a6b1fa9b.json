{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rlawl\\\\IdeaProjects\\\\wwoof-frontend\\\\wwoof-frontend\\\\src\\\\components\\\\login\\\\LoginForm.js\";\nimport React from \"react\";\n//import { signin } from \"./service/ApiService\";\nimport { Container, Grid, Typography, TextField, Button } from \"@mui/material\";\nimport { Form, json, redirect, Link } from \"react-router-dom\";\nimport \"./LoginForm.module.css\";\nimport { GOOGLE_AUTH_URL, KAKAO_AUTH_URL } from \"./index\";\nimport googleLogo from \"../../img/google-logo.png\";\nimport kakaoLogo from \"../../img/kakao-logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ACCESS_TOKEN = \"ACCESS_TOKEN\";\nfunction LoginForm(_ref) {\n  let {\n    method\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-content\",\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        method: method,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            id: \"email\",\n            className: \"form-control\",\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            id: \"password\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-item\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-block btn-primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"signup-link\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/join\",\n          children: \"\\uACC4\\uC815\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uAE4C? \\uC5EC\\uAE30\\uC11C \\uAC00\\uC785 \\uD558\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"social-login\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn btn-block social-btn google\",\n          href: GOOGLE_AUTH_URL,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: googleLogo,\n            alt: \"Google\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), \" Log in with Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn btn-block social-btn facebook\",\n          href: KAKAO_AUTH_URL,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: kakaoLogo,\n            alt: \"Kakao\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), \" Log in with Kakao\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n_c = LoginForm;\nexport default LoginForm;\nexport async function action(_ref2) {\n  let {\n    request,\n    params\n  } = _ref2;\n  const method = request.method;\n  const data = await request.formData();\n  const signinData = {\n    email: data.get(\"email\"),\n    password: data.get(\"password\")\n  };\n  let url = \"http://localhost:8080/auth/signin\";\n  let headers = new Headers({\n    \"Content-Type\": \"application/json\"\n  });\n  const accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\n  if (accessToken && accessToken !== null) {\n    headers.append(\"Authorization\", \"Bearer \" + accessToken);\n  }\n  const response = await fetch(url, {\n    method: method,\n    headers: headers,\n    body: JSON.stringify(signinData)\n  });\n  const resData = await response.json();\n  if (resData.token) {\n    localStorage.setItem(ACCESS_TOKEN, resData.token);\n    alert(\"Login Success\");\n    return redirect(\"/\");\n  }\n  if (response.state === 422) {\n    return response;\n  }\n  if (!response.ok) {\n    throw json({\n      message: \"Could not save board.\"\n    }, {\n      status: 500\n    });\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","Container","Grid","Typography","TextField","Button","Form","json","redirect","Link","GOOGLE_AUTH_URL","KAKAO_AUTH_URL","googleLogo","kakaoLogo","jsxDEV","_jsxDEV","ACCESS_TOKEN","LoginForm","_ref","method","className","children","type","name","id","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","to","href","src","alt","_c","action","_ref2","request","params","data","formData","signinData","email","get","password","url","headers","Headers","accessToken","localStorage","getItem","append","response","fetch","body","JSON","stringify","resData","token","setItem","alert","state","ok","message","status","$RefreshReg$"],"sources":["C:/Users/rlawl/IdeaProjects/wwoof-frontend/wwoof-frontend/src/components/login/LoginForm.js"],"sourcesContent":["import React from \"react\";\r\n//import { signin } from \"./service/ApiService\";\r\nimport { Container, Grid, Typography, TextField, Button } from \"@mui/material\";\r\nimport { Form, json, redirect, Link } from \"react-router-dom\";\r\nimport \"./LoginForm.module.css\";\r\nimport { GOOGLE_AUTH_URL, KAKAO_AUTH_URL } from \"./index\";\r\nimport googleLogo from \"../../img/google-logo.png\";\r\nimport kakaoLogo from \"../../img/kakao-logo.png\";\r\n\r\nconst ACCESS_TOKEN = \"ACCESS_TOKEN\";\r\n\r\nfunction LoginForm({ method }) {\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-content\">\r\n        <Form method={method}>\r\n          <div className=\"form-item\">\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              className=\"form-control\"\r\n              placeholder=\"Email\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-item\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Password\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-item\">\r\n            <button type=\"submit\" className=\"btn btn-block btn-primary\">\r\n              Login\r\n            </button>\r\n          </div>\r\n        </Form>\r\n        <span className=\"signup-link\">\r\n          <Link to=\"/join\">계정이 없습니까? 여기서 가입 하세요.</Link>\r\n        </span>\r\n        <div className=\"social-login\">\r\n          <a className=\"btn btn-block social-btn google\" href={GOOGLE_AUTH_URL}>\r\n            <img src={googleLogo} alt=\"Google\" /> Log in with Google\r\n          </a>\r\n          <a\r\n            className=\"btn btn-block social-btn facebook\"\r\n            href={KAKAO_AUTH_URL}\r\n          >\r\n            <img src={kakaoLogo} alt=\"Kakao\" /> Log in with Kakao\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n\r\nexport async function action({ request, params }) {\r\n  const method = request.method;\r\n  const data = await request.formData();\r\n\r\n  const signinData = {\r\n    email: data.get(\"email\"),\r\n    password: data.get(\"password\"),\r\n  };\r\n\r\n  let url = \"http://localhost:8080/auth/signin\";\r\n\r\n  let headers = new Headers({\r\n    \"Content-Type\": \"application/json\",\r\n  });\r\n\r\n  const accessToken = localStorage.getItem(\"ACCESS_TOKEN\");\r\n  if (accessToken && accessToken !== null) {\r\n    headers.append(\"Authorization\", \"Bearer \" + accessToken);\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: method,\r\n    headers: headers,\r\n    body: JSON.stringify(signinData),\r\n  });\r\n\r\n  const resData = await response.json();\r\n  if (resData.token) {\r\n    localStorage.setItem(ACCESS_TOKEN, resData.token);\r\n    alert(\"Login Success\");\r\n    return redirect(\"/\");\r\n  }\r\n\r\n  if (response.state === 422) {\r\n    return response;\r\n  }\r\n\r\n  if (!response.ok) {\r\n    throw json({ message: \"Could not save board.\" }, { status: 500 });\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}